import{importShared as i}from"./__federation_fn_import-C7CHy-5a.js";import{j as e}from"./jsx-runtime-C55WN_BT.js";const{useCallback:C,useState:F}=await i("react"),{APIError:A,MazeAPI:S,isValidObjectValue:B,useAuthenticationStore:b,StyledForm:c,StyledPanel:m}=await i("@moderepo/biz-console"),O=(n,a)=>!!B(n,!0,a),y=({sx:n})=>{const a=b(s=>s.actions),o=b(s=>s.loggedInUser),[r,u]=F(o.name),d=C(s=>{u(s.target.value)},[]),g=C(async()=>{const s=await S.getInstance().updateUser(o.id,{name:r});if(s instanceof A)alert(`Save user failed with error "${s.errorCode}"`);else{const t=await S.getInstance().getUser(o.id);t instanceof A||await a.setLoggedInUser(t)}},[a,o.id,r]),x=C(async s=>{s.preventDefault()},[]);return e.jsx(m.Panel,{sx:n,children:e.jsx(c.FormContainer,{children:e.jsxs(c.Form,{onSubmit:x,children:[e.jsx(m.HeaderBar,{children:e.jsx(m.HeaderBarLeftContent,{children:e.jsx(m.HeaderBarTitle,{children:"My Account Info"})})}),e.jsxs(m.Content,{children:[e.jsx(c.TextInputField,{label:"ID",InputProps:{readOnly:!0},value:o.id}),e.jsx(c.TextInputField,{label:"Email",InputProps:{readOnly:!0},value:o.email}),e.jsx(c.TextInputField,{label:"Name",variant:"outlined",value:r??"",onChange:d})]}),e.jsx(m.FooterBar,{children:e.jsx(c.ActionsBar,{children:e.jsx(c.RightActionsBar,{children:e.jsx(c.ActionButton,{variant:"contained",disabled:o.name===r,onClick:g,children:"Save"})})})})]})})})};y.displayName="MyAccountInfoComponent";const{Box:U,Paper:w,styled:v}=await i("@mui/material"),L=v(U,{name:"MyAccountComponents",slot:"myCustomAccountPage"})(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}));v(w,{name:"MyAccountComponents",slot:"root"})(({theme:n})=>({padding:n.spacing(2)}));const{useCallback:P}=await i("react"),{BIZCONSOLE_THEME_TRANSLATION_KEY:V,BizConsoleTheme:E,SUPPORTED_LANGUAGES:z,isValidObjectValue:$,useAuthenticationStore:H,useUserPreferencesStore:I,StyledPanel:p,StyledForm:l}=await i("@moderepo/biz-console"),{MenuItem:M,OutlinedInput:T}=await i("@mui/material"),{useTranslation:D}=await i("react-i18next"),k=(n,a)=>!!$(n,!0,a),h=({projectId:n,sx:a})=>{const{t:o}=D(),r=H(t=>t.loggedInUser),u=I(t=>t.actions),d=I(t=>t.userPreferencesByProjectIdByUserId[n]?.[r.id]),g=P(t=>{u.setUserPreferencesLanguage(n,r.id,t.target.value)},[r.id,n,u]),x=P(t=>{u.setUserPreferencesTheme(n,r.id,t.target.value)},[r.id,n,u]),s=P(async t=>{t.preventDefault()},[]);return e.jsx(p.Panel,{sx:a,children:e.jsx(l.FormContainer,{children:e.jsxs(l.Form,{onSubmit:s,children:[e.jsx(p.HeaderBar,{children:e.jsx(p.HeaderBarLeftContent,{children:e.jsx(p.HeaderBarTitle,{children:" My Preferences"})})}),e.jsxs(p.Content,{children:[e.jsxs(l.StyledFormControl,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(l.StyledInputLabel,{children:"Language"}),e.jsx(l.SelectInputField,{label:"Language",input:e.jsx(T,{notched:!0,label:"Language"}),type:"number",value:d?.language??"",onChange:g,children:z.map(t=>e.jsx(M,{value:t.code,selected:t.code===d?.language,children:t.name},t.code))})]}),e.jsxs(l.StyledFormControl,{fullWidth:!0,variant:"outlined",required:!0,children:[e.jsx(l.StyledInputLabel,{children:"Theme"}),e.jsx(l.SelectInputField,{label:"Theme",input:e.jsx(T,{notched:!0,label:"Theme"}),type:"number",value:d?.theme??"",onChange:x,children:Object.values(E).map(t=>e.jsx(M,{value:t,selected:t===d?.theme,children:o(V[t])},t))})]})]})]})})})};h.displayName="MyAccountPrefComponent";const{isValidObjectValue:R}=await i("@moderepo/biz-console"),{Box:_,Typography:N}=await i("@mui/material"),q=(n,a)=>!!R(n,!0,a),j=({projectId:n})=>e.jsxs(L,{children:[e.jsxs(_,{sx:{textAlign:"center",paddingBottom:5},children:[e.jsx(N,{variant:"h2",children:"This is a Custom Page"}),e.jsx(N,{variant:"h5",children:"Anything can go in here"})]}),e.jsx(y,{projectId:n}),e.jsx(h,{sx:{marginTop:2},projectId:n})]});j.displayName="MyCustomAccountPage";const{BizConsolePluginType:f}=await i("@moderepo/biz-console"),K={bizConsoleVersion:"0.0.2",plugins:[{type:f.COMPONENT,name:"My Custom Account Page",componentTypeSettings:{type:j.displayName,componentFunc:j,displayName:"My Custom Account Page",description:"A custom page that display my account info",customPropsValidator:q}},{type:f.COMPONENT,name:"My Account Info Component",componentTypeSettings:{type:y.displayName,componentFunc:y,displayName:"My Account Info Component",description:"A custom component that display my account info",customPropsValidator:O}},{type:f.COMPONENT,name:"My Account Pref Component",componentTypeSettings:{type:h.displayName,componentFunc:h,displayName:"My Account Preferences Component",description:"A custom component that display my account preferences",customPropsValidator:k}}]};export{y as MyAccountInfoComponent,h as MyAccountPrefComponent,j as MyCustomAccountPage,K as bizConsolePlugins,O as isMyAccountInfoComponentProps,k as isMyAccountPrefComponentProps,q as isMyCustomAccountPageProps};
